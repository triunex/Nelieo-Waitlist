<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nelieo Admin - Monitoring Dashboard</title>
    <link rel="stylesheet" href="admin-styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@studio-freight/lenis@1.0.42/dist/lenis.min.js"></script>
</head>
<body>
    <!-- Login Screen -->
    <div id="loginScreen" class="login-screen">
        <div class="login-container">
            <div class="login-header">
                <img src="nelieo-mark.png" alt="Nelieo" class="login-logo">
                <h1>Nelieo Admin</h1>
                <p>Monitoring Dashboard</p>
            </div>
            <form id="loginForm" class="login-form">
                <div class="input-group">
                    <label for="adminPassword">Admin Password</label>
                    <input type="password" id="adminPassword" placeholder="Enter admin password" required>
                </div>
                <button type="submit" class="login-button">
                    <span>Access Dashboard</span>
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M7.5 15L12.5 10L7.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                    </svg>
                </button>
                <div id="loginError" class="login-error"></div>
            </form>
        </div>
    </div>

    <!-- Main Dashboard -->
    <div id="dashboard" class="dashboard" style="display: none;">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="nelieo-mark.png" alt="Nelieo" class="sidebar-logo">
                <h2>Nelieo</h2>
            </div>
            <nav class="sidebar-nav">
                <a href="#overview" class="nav-item active" data-section="overview">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <rect x="3" y="3" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
                        <rect x="11" y="3" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
                        <rect x="3" y="11" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
                        <rect x="11" y="11" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <span>Overview</span>
                </a>
                <a href="#users" class="nav-item" data-section="users">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M13 14.5C13 13.1193 11.6569 12 10 12C8.34315 12 7 13.1193 7 14.5M13 14.5C13 15.8807 11.6569 17 10 17C8.34315 17 7 15.8807 7 14.5M13 14.5H15.5C16.3284 14.5 17 15.1716 17 16V17.5M7 14.5H4.5C3.67157 14.5 3 15.1716 3 16V17.5M10 10C11.1046 10 12 9.10457 12 8C12 6.89543 11.1046 6 10 6C8.89543 6 8 6.89543 8 8C8 9.10457 8.89543 10 10 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <span>Users</span>
                    <span class="badge" id="usersBadge">0</span>
                </a>
                <a href="#analytics" class="nav-item" data-section="analytics">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M3 17V13M10 17V7M17 17V11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <span>Analytics</span>
                </a>
                <a href="#database" class="nav-item" data-section="database">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <ellipse cx="10" cy="5" rx="6" ry="2" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M4 5V12C4 13.1046 6.68629 14 10 14C13.3137 14 16 13.1046 16 12V5" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M4 9C4 10.1046 6.68629 11 10 11C13.3137 11 16 10.1046 16 9" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <span>Database</span>
                </a>
                <a href="#activity" class="nav-item" data-section="activity">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M10 6V10L13 13M19 10C19 14.9706 14.9706 19 10 19C5.02944 19 1 14.9706 1 10C1 5.02944 5.02944 1 10 1C14.9706 1 19 5.02944 19 10Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <span>Live Activity</span>
                    <span class="pulse-dot"></span>
                </a>
            </nav>
            <div class="sidebar-footer">
                <button id="logoutBtn" class="logout-btn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                        <path d="M13 16L17 12M17 12L13 8M17 12H7M7 16H4C3.44772 16 3 15.5523 3 15V5C3 4.44772 3.44772 4 4 4H7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <span>Logout</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="content-header">
                <div class="header-left">
                    <h1 id="sectionTitle">Overview Dashboard</h1>
                    <p id="sectionSubtitle">Real-time monitoring and analytics</p>
                </div>
                <div class="header-right">
                    <div class="status-indicator">
                        <span class="status-dot"></span>
                        <span>All Systems Operational</span>
                    </div>
                    <div class="refresh-info">
                        <span>Auto-refresh: 5s</span>
                    </div>
                </div>
            </header>

            <!-- Overview Section -->
            <section id="overviewSection" class="content-section active">
                <!-- Key Metrics -->
                <div class="metrics-grid">
                    <div class="metric-card">
                        <div class="metric-icon gradient-blue">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M17 20H22V18C22 16.3431 20.6569 15 19 15C18.0444 15 17.1931 15.4468 16.6438 16.1429M17 20H7M17 20V18C17 17.3438 16.8736 16.717 16.6438 16.1429M7 20H2V18C2 16.3431 3.34315 15 5 15C5.95561 15 6.80686 15.4468 7.35625 16.1429M7 20V18C7 17.3438 7.12642 16.717 7.35625 16.1429M7.35625 16.1429C8.0935 14.301 9.89482 13 12 13C14.1052 13 15.9065 14.301 16.6438 16.1429M15 7C15 8.65685 13.6569 10 12 10C10.3431 10 9 8.65685 9 7C9 5.34315 10.3431 4 12 4C13.6569 4 15 5.34315 15 7ZM21 10C21 11.1046 20.1046 12 19 12C17.8954 12 17 11.1046 17 10C17 8.89543 17.8954 8 19 8C20.1046 8 21 8.89543 21 10ZM7 10C7 11.1046 6.10457 12 5 12C3.89543 12 3 11.1046 3 10C3 8.89543 3.89543 8 5 8C6.10457 8 7 8.89543 7 10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="metric-content">
                            <div class="metric-label">Total Signups</div>
                            <div class="metric-value" id="totalSignups">0</div>
                            <div class="metric-change positive">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M8 12V4M8 4L4 8M8 4L12 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                </svg>
                                <span id="signupsChange">+0%</span>
                                <span class="change-period">vs last week</span>
                            </div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon gradient-green">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M12 8V12L15 15M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="metric-content">
                            <div class="metric-label">Today's Signups</div>
                            <div class="metric-value" id="todaySignups">0</div>
                            <div class="metric-subtext" id="todayRate">0 signups/hour</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon gradient-purple">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M9 12L11 14L15 10M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="metric-content">
                            <div class="metric-label">Conversion Rate</div>
                            <div class="metric-value" id="conversionRate">0%</div>
                            <div class="metric-subtext" id="conversionDetail">0 of 0 visitors</div>
                        </div>
                    </div>

                    <div class="metric-card">
                        <div class="metric-icon gradient-orange">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M13 7H21M21 7V15M21 7L13 15L9 11L3 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="metric-content">
                            <div class="metric-label">Goal Progress</div>
                            <div class="metric-value" id="goalProgress">0%</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="goalProgressBar" style="width: 0%"></div>
                            </div>
                            <div class="metric-subtext" id="goalDetail">0 / 50,000 by Dec 31</div>
                        </div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="charts-row">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Signup Trend (Last 30 Days)</h3>
                            <div class="chart-legend">
                                <span class="legend-item">
                                    <span class="legend-dot blue"></span>
                                    Daily Signups
                                </span>
                            </div>
                        </div>
                        <canvas id="signupTrendChart"></canvas>
                    </div>

                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Hourly Activity (Today)</h3>
                            <div class="chart-legend">
                                <span class="legend-item">
                                    <span class="legend-dot green"></span>
                                    Signups per Hour
                                </span>
                            </div>
                        </div>
                        <canvas id="hourlyActivityChart"></canvas>
                    </div>
                </div>

                <!-- Recent Activity -->
                <div class="activity-card">
                    <div class="activity-header">
                        <h3>Recent Signups</h3>
                        <button class="refresh-btn" onclick="refreshData()">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                <path d="M13 3L13 7L9 7M13 3C11.8 1.8 10.1 1 8.2 1C4.7 1 1.9 3.8 1.9 7.3C1.9 10.8 4.7 13.6 8.2 13.6C11.1 13.6 13.5 11.6 14.1 8.9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            Refresh
                        </button>
                    </div>
                    <div class="activity-list" id="recentActivity">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </section>

            <!-- Users Section -->
            <section id="usersSection" class="content-section">
                <div class="section-header">
                    <div class="search-box">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M19 19L13 13M15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        <input type="text" id="userSearch" placeholder="Search users by name or email...">
                    </div>
                    <button class="export-btn" onclick="exportUsers()">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 13V3M10 13L6 9M10 13L14 9M3 17H17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        </svg>
                        Export CSV
                    </button>
                </div>
                <div class="users-table-container">
                    <table class="users-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Company</th>
                                <th>Use Case</th>
                                <th>Joined</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="usersTableBody">
                            <!-- Populated by JS -->
                        </tbody>
                    </table>
                </div>
                <div class="pagination" id="usersPagination">
                    <!-- Populated by JS -->
                </div>
            </section>

            <!-- Analytics Section -->
            <section id="analyticsSection" class="content-section">
                <div class="analytics-grid">
                    <div class="chart-card large">
                        <div class="chart-header">
                            <h3>Conversion Funnel</h3>
                        </div>
                        <canvas id="funnelChart"></canvas>
                    </div>
                    <div class="stats-card">
                        <h3>Traffic Sources</h3>
                        <div class="source-list" id="trafficSources">
                            <!-- Populated by JS -->
                        </div>
                    </div>
                </div>
                <div class="charts-row">
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Use Case Distribution</h3>
                        </div>
                        <canvas id="useCaseChart"></canvas>
                    </div>
                    <div class="chart-card">
                        <div class="chart-header">
                            <h3>Company Size Distribution</h3>
                        </div>
                        <canvas id="companySizeChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Database Section -->
            <section id="databaseSection" class="content-section">
                <div class="db-metrics-grid">
                    <div class="db-metric-card">
                        <div class="db-metric-icon">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                                <ellipse cx="16" cy="8" rx="10" ry="4" stroke="currentColor" stroke-width="2"/>
                                <path d="M6 8V20C6 22.2091 10.4772 24 16 24C21.5228 24 26 22.2091 26 20V8" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </div>
                        <div class="db-metric-content">
                            <div class="db-metric-label">Database Size</div>
                            <div class="db-metric-value" id="dbSize">0 MB</div>
                            <div class="db-metric-subtext">SQLite WAL Mode</div>
                        </div>
                    </div>
                    <div class="db-metric-card">
                        <div class="db-metric-icon">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                                <path d="M28 16C28 22.6274 22.6274 28 16 28C9.37258 28 4 22.6274 4 16C4 9.37258 9.37258 4 16 4C22.6274 4 28 9.37258 28 16Z" stroke="currentColor" stroke-width="2"/>
                                <path d="M16 10V16L20 20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            </svg>
                        </div>
                        <div class="db-metric-content">
                            <div class="db-metric-label">Avg Query Time</div>
                            <div class="db-metric-value" id="queryTime">0 ms</div>
                            <div class="db-metric-subtext health-good">Excellent Performance</div>
                        </div>
                    </div>
                    <div class="db-metric-card">
                        <div class="db-metric-icon">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                                <path d="M6 26H26M6 12L16 4L26 12M8 10V24H24V10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="db-metric-content">
                            <div class="db-metric-label">Total Records</div>
                            <div class="db-metric-value" id="totalRecords">0</div>
                            <div class="db-metric-subtext">2 tables indexed</div>
                        </div>
                    </div>
                    <div class="db-metric-card">
                        <div class="db-metric-icon">
                            <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                                <path d="M28 10L18 20L12 14L4 22M28 10V16M28 10H22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </div>
                        <div class="db-metric-content">
                            <div class="db-metric-label">Last Backup</div>
                            <div class="db-metric-value" id="lastBackup">Never</div>
                            <button class="backup-btn" onclick="createBackup()">Backup Now</button>
                        </div>
                    </div>
                </div>
                <div class="db-health-card">
                    <h3>Database Health</h3>
                    <div class="health-indicators">
                        <div class="health-item">
                            <span class="health-label">Connection Pool</span>
                            <span class="health-status good">Active</span>
                        </div>
                        <div class="health-item">
                            <span class="health-label">Write Access</span>
                            <span class="health-status good">Operational</span>
                        </div>
                        <div class="health-item">
                            <span class="health-label">Indexes</span>
                            <span class="health-status good">Optimized</span>
                        </div>
                        <div class="health-item">
                            <span class="health-label">Data Integrity</span>
                            <span class="health-status good">Verified</span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Activity Section -->
            <section id="activitySection" class="content-section">
                <div class="live-feed-card">
                    <div class="live-feed-header">
                        <h3>
                            <span class="pulse-dot"></span>
                            Live Activity Feed
                        </h3>
                        <span class="live-indicator">Real-time</span>
                    </div>
                    <div class="live-feed-list" id="liveFeed">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script src="admin-app.js"></script>
</body>
</html>
